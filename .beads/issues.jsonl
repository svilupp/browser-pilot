{"id":"browser-pilot-1qr","title":"Split SKILL.md into operational playbook and reference","description":"Split docs/skill/SKILL.md into two files that reference each other, reducing duplication and overlap.\n\n## Goal\n- SKILL.md: ~1-2 screens of 'how to drive the tool reliably' + links to reference\n- REFERENCE.md: Complete reference, cookbook, and troubleshooting\n\n## SKILL.md (operational playbook - high-signal)\n\nKeep:\n- Frontmatter (name/description/compatibility)\n- Short intro\n- **Recommended Workflow: Snapshot → Ref** (make this the centerpiece)\n- Quick Reference (trim to essentials)\n- Step-by-Step Workflow (connect/exec/snapshot/close)\n- Dialog Handling (CRITICAL) - keep prominent\n- Multi-selector + optional actions (brief)\n- Tips (trim duplicates)\n- Add pointer: 'For full action list and JSON schema, see REFERENCE.md'\n\nMove out:\n- Entire Action DSL Reference section\n- Verbose Output Formats section (JSON schema example)\n- Most Common Patterns (keep one canonical: 'Login with refs')\n- Most Troubleshooting\n\n## REFERENCE.md (reference + cookbook + troubleshooting)\n\nContents:\n- Action DSL Reference (navigation/click/fill/type/select/...)\n- Selectors section - **consolidated** (refs rules, selector arrays, selector priority, :has-text() caveats) - state refs/shadow-dom guidance only once\n- Output formats + JSON structure\n- Common Patterns (login/search/cookies/custom dropdown/delete confirm)\n- Troubleshooting (element not found, hangs/dialogs, validation blur)\n\n## Implementation Notes\n- Keep to exactly 2 files (no scattering)\n- Cross-reference between files\n- Consolidate duplicate content (e.g., refs/shadow-dom info appears multiple places currently)\n- SKILL.md should be scannable in 1-2 screens","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T09:53:35.948858Z","created_by":"jsiml","updated_at":"2026-01-02T11:51:07.475194Z","closed_at":"2026-01-02T11:51:07.475194Z","close_reason":"Closed"}
{"id":"browser-pilot-5y9","title":"SKILL.md ref workflow documentation is incorrect","description":"TESTING4.md #1: SKILL.md implies refs work across separate CLI calls (bp snapshot then bp exec), but refs only persist within a single exec call. The refMap is scoped to a Page instance and is created fresh for each bp exec invocation. Need to update SKILL.md to clarify: 1) Refs require snapshot action in SAME exec call, 2) bp snapshot + separate bp exec won't work, 3) Add working example pattern.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-02T09:46:23.094639Z","created_by":"jsiml","updated_at":"2026-01-02T09:59:53.649199Z","closed_at":"2026-01-02T09:59:53.649199Z","close_reason":"Fixed documentation in SKILL.md and CLI help to clarify refs only persist within a single bp exec call. Updated all examples to include snapshot action at start of batches that use refs."}
{"id":"browser-pilot-6h8","title":"Add test for cross-exec ref failure scenario","description":"Tests currently verify refs work WITHIN a single exec call (correct behavior). However, there's no test verifying that the INCORRECT workflow fails as expected: 1) bp snapshot (standalone) shows refs, 2) bp exec with ref:eX in separate call should fail gracefully. Add negative test to document/verify this limitation, helping users understand why their workflow doesn't work.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T09:46:38.557852Z","created_by":"jsiml","updated_at":"2026-01-02T11:15:43.892981Z","closed_at":"2026-01-02T11:15:43.892981Z","close_reason":"Closed"}
{"id":"browser-pilot-8ig","title":"Add quickstart CLI command","description":"Add a 'quickstart' command to the CLI that displays comprehensive documentation for agents and users to learn the library quickly.\n\n## Output Format\n\n```\nbrowser-pilot - CDP-based browser automation for AI agents\n\nZero production dependencies. Works in Node.js, Bun, and Cloudflare Workers.\n\nRUNNING\n  npx browser-pilot ...     # Node.js projects\n  bunx browser-pilot ...    # Bun projects (faster)\n\nCONNECTING\n  npx browser-pilot connect \u003cwsUrl\u003e     Connect to existing browser\n  npx browser-pilot connect --provider browserbase --api-key \u003ckey\u003e\n\nBASIC USAGE (Code)\n  import { Browser } from 'browser-pilot';\n  \n  const browser = await Browser.connect({ wsUrl: '...' });\n  const page = await browser.newPage();\n  await page.goto('https://example.com');\n  await page.click('#button');\n  await page.fill('#input', 'text');\n  await browser.close();\n\nKEY PATTERNS\n  Multi-Selector    await page.click(['#primary', '.fallback', 'button']);\n  Smart Waiting     Every action waits for visibility automatically\n  Optional Actions  await page.click('#banner', { optional: true });\n\nBATCH EXECUTION\n  await page.batch([\n    { action: 'goto', url: 'https://example.com' },\n    { action: 'fill', selector: '#email', value: 'test@test.com' },\n    { action: 'submit', selector: 'form' },\n  ]);\n\nSNAPSHOTS (FOR AI AGENTS)\n  const snapshot = await page.snapshot();\n  // Returns accessibility tree with refs: e1, e2, e3...\n  await page.click({ ref: 'e5' });\n\nPROVIDERS\n  BrowserBase     Browser.connect({ provider: 'browserbase', apiKey })\n  Browserless     Browser.connect({ provider: 'browserless', apiKey })\n  Generic         Browser.connect({ wsUrl: 'ws://...' })\n\nCOMMON ACTIONS\n  page.goto(url)              Navigate to URL\n  page.click(selector)        Click element\n  page.fill(selector, value)  Fill input field\n  page.submit(selector)       Submit form\n  page.select(selector, val)  Select dropdown option\n  page.screenshot()           Capture screenshot\n  page.snapshot()             Get accessibility tree\n\nAGENT INTEGRATION\n  • Use snapshot() to get page state as accessibility tree\n  • Refs (e1, e2...) identify elements without fragile selectors\n  • Multi-selector arrays handle UI variations\n  • optional: true prevents failures on transient elements\n\nReady to automate!\nRun: npx browser-pilot connect \u003cwsUrl\u003e\n```\n\n## Implementation\n\n1. Add 'quickstart' command to src/cli/index.ts\n2. Create a function that console.logs the formatted text above\n3. Wire it up in the CLI command parser\n4. Optional: Update README.md to mention 'npx browser-pilot quickstart'\n\n## Reference\nSimilar to 'bd quickstart' command in beads project.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-02T09:47:50.608428Z","created_by":"jsiml","updated_at":"2026-01-02T10:19:26.633363Z","closed_at":"2026-01-02T10:19:26.633363Z","close_reason":"Closed"}
{"id":"browser-pilot-caz","title":"Iframe switchFrame may fail silently in real apps","description":"TESTING4.md #4: Tester reports switchFrame succeeds but subsequent wait/actions fail on real /contexts page with timeout. Test fixtures use elements immediately available, but real apps may have dynamic loading. Need to investigate: 1) Does switchFrame properly wait for iframe content to load? 2) Is there a race condition between frame switch and DOM.getDocument? 3) Add test with delayed iframe content loading.","notes":"COMPLETED: Fixed race condition in switchToFrame. Changed 50ms single wait to proper polling loop with configurable timeout. Added test fixtures with delayed iframe content (500ms, 1000ms delays). Added 2 integration tests for delayed iframe content. IN PROGRESS: None. BLOCKERS: None.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-02T09:46:30.875536Z","created_by":"jsiml","updated_at":"2026-01-02T10:13:43.894817Z","closed_at":"2026-01-02T10:13:43.894817Z","close_reason":"Fixed: switchToFrame now properly polls for execution context with configurable timeout instead of single 50ms wait. Added test fixtures (iframe-delayed-parent.html, iframe-delayed-child.html) with configurable delays. Added 2 integration tests for delayed iframe content. All 11 iframe tests pass."}
{"id":"browser-pilot-e8k","title":"Wizard test fixture: terms checkbox validation bug","description":"TESTING4.md #3: On /wizard/review, checkbox appears checked in accessibility snapshot but submit still shows 'Please agree to Terms' error. Either: 1) Checkbox state not properly tracked, 2) Validation uses different source of truth than checkbox visual state. Investigate test fixture at tests/fixtures/pages/wizard/.","status":"open","priority":3,"issue_type":"bug","created_at":"2026-01-02T09:46:45.093034Z","created_by":"jsiml","updated_at":"2026-01-02T09:46:45.093034Z"}
{"id":"browser-pilot-j14","title":"Verify dialog auto-dismiss works with stale builds","description":"TESTING3.md reports dialogs still block despite auto-dismiss code existing. Same session also discovered refMap was missing due to stale build. Verify: 1) Auto-dismiss requires bun run build after code changes, 2) Add integration test that specifically tests dialog WITHOUT --dialog flag (test exists but verify it runs against fresh build), 3) Consider adding build freshness check to CI.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T09:47:06.451098Z","created_by":"jsiml","updated_at":"2026-01-02T10:02:22.712872Z","closed_at":"2026-01-02T10:02:22.712872Z","close_reason":"Verified: Auto-dismiss works correctly. Integration tests (10 pass) and CLI tests (8 pass) confirm functionality. The stale build issue was a development workflow concern - when using installed CLI, run 'bun run build' after code changes. Tests run from source directly and catch regressions."}
{"id":"browser-pilot-tp7","title":"withRetry may mask genuine test flakiness","description":"All integration tests use withRetry() which retries failed tests up to 3 times with backoff. While this improves CI stability, it could mask genuine flaky behavior that users would experience. Consider: 1) Adding flakiness detection (log when retry succeeds), 2) Periodically running tests without retry to identify flaky tests, 3) Documenting which tests required retry fixes.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-02T09:46:55.974179Z","created_by":"jsiml","updated_at":"2026-01-02T09:46:55.974179Z"}
